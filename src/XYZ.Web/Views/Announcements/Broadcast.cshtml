@model XYZ.Web.Models.Announcements.BroadcastAnnouncementViewModel

@{
    ViewData["Title"] = "Sistem Duyurusu Gönder";
}

<h2 class="h4 mb-3">Sistem Duyurusu Gönder</h2>

@if (TempData["SuccessMessage"] is string ok && !string.IsNullOrWhiteSpace(ok))
{
    <div class="alert alert-success py-2 small">@ok</div>
}
@if (TempData["ErrorMessage"] is string err && !string.IsNullOrWhiteSpace(err))
{
    <div class="alert alert-danger py-2 small">@err</div>
}

<div class="card-surface p-3">
    <div class="text-muted small mb-3">
        Bu ekran yalnızca SuperAdmin içindir. Buradan gönderilen duyuru, sistem tipi olarak tüm kulüplere ayrı kayıt şeklinde oluşturulur.
    </div>

    <form asp-action="Broadcast" method="post" class="row g-3">
        @Html.AntiForgeryToken()
        <div asp-validation-summary="ModelOnly" class="text-danger small"></div>

        <div class="col-12">
            <label asp-for="Title" class="form-label small"></label>
            <input asp-for="Title" class="form-control form-control-sm" />
            <span asp-validation-for="Title" class="text-danger small"></span>
        </div>

        <div class="col-12">
            <label asp-for="Content" class="form-label small"></label>
            <textarea asp-for="Content" rows="6" class="form-control form-control-sm"></textarea>
            <span asp-validation-for="Content" class="text-danger small"></span>
        </div>

        <div class="col-md-6">
            <label asp-for="PublishDate" class="form-label small"></label>
            <input asp-for="PublishDate" type="date" class="form-control form-control-sm" />
            <span asp-validation-for="PublishDate" class="text-danger small"></span>
        </div>

        <div class="col-md-6">
            <label asp-for="ExpiryDate" class="form-label small"></label>
            <input asp-for="ExpiryDate" type="date" class="form-control form-control-sm" />
            <span asp-validation-for="ExpiryDate" class="text-danger small"></span>
        </div>

        <div class="col-12 d-flex justify-content-end mt-2">
            <a class="btn btn-sm btn-outline-light me-2" asp-action="Index">İptal</a>
            <button type="submit" class="btn btn-sm btn-primary"
                    onclick="return confirm('Bu duyuru tüm kulüplere gönderilecek. Devam edilsin mi?');">
                Tüm Kulüplere Gönder
            </button>
        </div>
    </form>
</div>
